# 进程间通信介绍（二）

- 死锁
- 信号量与PV原语
- 用PV原语解决司机与售票员问题
- 用PV原语解决民航售票问题
- 用PV原语解决汽车租赁问题

## 死锁

- 死锁是指多个进程之间相互等待对方的资源，而在得到对方资源之前又不释放自己的资源，这样，造成循环等待的一 种现象。如果所有进程都在等待--个个可能发生的事，则进程就死锁了。

### 死锁产生的必要条件

- 互斥条件
  - 进程对资源进行排它性使用，即在-段时间内某资源仅为一个进程所占用。
- 请求和保持条件
  - 当进程因请求资源而阻塞时，对已获得的资源保持不放。不可剥夺条件进程已获得的资源在未使用完之前，不能被剥夺，只能在使用完时由自己释放。
- 环路等待条件
  - 各个进程组成封闭的环形链，每个进程都等待下个进程所占用的资源

### 死锁避免

![](https://i.loli.net/2020/05/31/zTUVq68WpoePrxg.png)

- 预防死锁的几种策略，会严重地损害系统性能。因此在避免死锁时，要施加较弱的限制，从而获得较满意的系统性能。
- 由于在避免死锁的策略中，允许进程动态地申请资源。因而，系统在进行资源分配之前预先计算资源分配的安全性。若此次分配不会导致系统进入个安全状态，则将资源分配给进程;否则，进程等待。其中最具有代表性的避免死锁算法是银行家算法