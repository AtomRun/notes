# HashMap和HashTable

# JDK1.7下的HashMap

## HashMap简介

### 假设场景：

我们有个手写电话本，我们使用A-Z来分区我们的联系人

![](https://i.loli.net/2020/07/28/bRDTG2ejv984NLF.png)

但如果我们联系人多了起来

![](https://i.loli.net/2020/07/28/DRkLtjSMfyrdIos.png)

我们称这种能够快速检索到数据的数据结构为Hash桶（哈希桶），它的本质是将一个元素映射为一个可以快速检索的Hash值，例如张三的Hash值为Z

在数据结构中，有这样一个数据结构，叫做Hash桶，这个桶底层通常是数组实现的，数组的好处是随即寻址，这个数据无论多大，在你知道下标的前提下（通常下标会根据Hash函数Hash出来后，使用取模法或者与运算法得到）查找的时间复杂度为O(1)

但是Hash表有一个非常大的软肋，就是Hash碰撞（Hash碰撞是指，多个不同元素的Hash值相同，例如上面的张三丰和张学友Hash后都是Z，那么这个时候就发生了碰撞），通常解决碰撞的手段就是将发生碰撞的数据挨着后面放，假设这个时候我们要找张学友，我们去Z对应的桶里找，找到发现桶里有好几个，这时候我们挨个找就行了。

## 为什么默认的初始容量必须为2的幂？

```java
static final int DEFAULT_INITIAL_CAPACITY =I<< 4; // aka 16
```

即Hash桶的个数必须为2^n

