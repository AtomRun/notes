# IOC

> (inversion (反转) of Control) 控制反转

## 控制-资源获取的方式

### 主动式

- 需要什么资源自己创建即可

```java
Book book = new Book();
book.show();
```

### 被动式

- 资源的获取不是我们自己创建而是交给容器来管理

```java
Book book();
public void message(){
    book.show();
    // 直接看这行代码，肯定会觉得出现空指针异常
}
```

### 容器

- 管理所有的组件（有功能的类）
- 假设BookService和BookServlet都受容器管理，容器可以自动将那些组件（类需要用到另外一个组件），例如这里的Servlet依赖Service。这个时候容器帮我们创建Service对象，并且把这个对象赋值给Sevlet的引用依赖
- 改变：由以前的主动new资源变为现在被动接受资源，即
- 婚介所
  - 以前：主动找对象
  - 现在：找婚介所帮你把对象送家里
- 个人理解：Spring使用IOC容器在经过使用者的配置后，使得开发人员只用在模块之间进行声明即可，而后Spring容器创建实例再使用DI将这个实例赋值给该容器。
- 好处：让模块之间解耦更加解耦，使用多态的方式传入接口，具体赋给什么样的实现类是没有关心的。

# DI

> (Dependency Injection)依赖注入

## 作用

- 容器能够知道哪个组件（类）运行的时候，需要另一个类（组件），容器通过反射的方式，将容器中准备好的BookService对象注入到Servlet，可以理解成，将女朋友送到你家的过程
- 只要容器管理的组件，都能使用容器提供的强大的功能